/*! morsecoder 03-03-2013 */
(function(e){var r=function(e){var r,t={};for(r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},t=function(e,r){var t,n={};for(t in e)if(e.hasOwnProperty(t)){if(r&&n.hasOwnProperty(t))throw Error("Tansposing non-distinct key:value pair :"+t);n[e[t]]=t}return n},n=function(e,r){var t;for(t in e)e.hasOwnProperty(t)&&r.hasOwnProperty(t)&&(e[t]=r[t]);return e},o={".":".","-":"-"," ":" "};Object.seal(o);var s={letter:"   ",word:"       "};Object.seal(s);var a={a:". -",b:"- . . .",c:"- . - .",d:"- . .",e:".",f:". . - .",g:"- - .",h:". . . .",i:". .",j:". - - -",k:"- . -",l:". - . .",m:"- -",n:"- .",o:"- - -",p:". - - .",q:"- - . -",r:". - .",s:". . .",t:"-",u:". . -",v:". . . -",w:". - -",x:"- . . -",y:"- . - -",z:"- - . ."};Object.seal(a);var i=function(e,r){var t,n,o,s;for(t in e)if(e.hasOwnProperty(t)){for(n=e[t].split(""),o=[],s=0;n.length>s;s++)o[s]=r[n[s]]||n[s];e[t]=o.join("").toLowerCase()}return e},p=function(e){var r,t,n,o,s,a,i=[],p=/[A-Z]/,h=this.alphabet,l=this._gaps,u=RegExp("("+l.letter+"|"+l.word+")*$"),c=e.split(/\s/);for(s=0;c.length>s;s++)for(r=c[s],a=0;r.length>a;a++)t=r[a],n=t.toLowerCase(),n in h?(o=h[n],p.test(t)&&(o=o.toUpperCase()),i.push(o)):i.push(t),a!=r.length-1?i.push(l.letter):i.push(l.word);return i.join("").replace(u,"")},h=function(e){var r,t,n,o,s,a,i=[],p=/[A-Z]/,h=this.alphabetDecoder,l=this._gaps,u=e.split(l.word);for(s=0;u.length>s;s++)for(r=u[s].split(l.letter),a=0;r.length>a;a++)t=r[a],n=t.toLowerCase(),n in h?(o=h[n],p.test(t)&&(o=o.toUpperCase()),i.push(o)):i.push(t),a==r.length-1&&i.push(" ");return i.join("").trim()};e.MorseCoder=function(e){var l={};return e=e||{},l._DEFAULT_MORSE_ENCODINGS=o,l._DEFAULT_MORSE_CODE_ALPHABET=a,l._DEFAULT_MORSE_GAPS=s,l._encodings=r(o),e.encodingOverrides&&n(l._encodings,e.encodingOverrides),l._gaps=r(s),e.gapOverrides&&n(l._gaps,e.gapOverrides),l.alphabet=i(r(a),l._encodings),l.alphabetDecoder=t(l.alphabet,!0),l.encode=p,l.decode=h,l}})(this);